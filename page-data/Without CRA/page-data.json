{"componentChunkName":"component---src-templates-post-template-tsx","path":"/Without CRA/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>CRA 없이 초기셋팅하고 API 연동하기</h1>\n<h2># structure</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">config \n  - webpack.common.js\n  - webpack.dev.js\n  - webpack.prod.js\n\nnode_modules\n\nsrc\n  - public\n      -index.html\n  -index.tsx\n  -App.tsx\n.babelrc\npackage.json\ntsconfig.json\nyarn.lock</code></pre></div>\n<h2>#명령어</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn init -y\nyarn add -D react react-dom\nyarn -D @babel/cli @babel/core @babel/preset-env @babel/preset-react @babel/preset typescript babel-loader\nyarn -D core-js css-loader css-minimizer-webpack-plugin mini-css-extract-plugin style-loader sass sass-loader terser-webpack-plugin\nyarn add -D @types/react @types/react-dom typescript</code></pre></div>\n<h2>#setting</h2>\n<h2>webpack.common.js</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const HtmlWebpackPlugin = require(\"html-webpack-plugin\");\nconst path = require(\"path\");\nconst webpack = require(\"webpack\");\n// const { BundleAnalyzerPlugin } = require(\"webpack-bundle-analyzer\");\n// BundleAnalyzer는 Bundle 최적화 용도로 보통 저는 사용합니다.\n\nmodule.exports = {\n  entry: `${path.resolve(__dirname, \"../src\")}/index.tsx`,\n  module: {\n    rules: [\n      {\n        test: /\\.(ts|tsx|js|jsx)$/,\n        use: \"babel-loader\",\n        exclude: /node_modules/,\n      },\n    ],\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      template: `${path.resolve(__dirname, \"../src/public\")}/index.html`,\n    }),\n    new webpack.ProvidePlugin({\n      React: \"react\",\n    }),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"..src/\"),\n    },\n    extensions: [\".js\", \".ts\", \".jsx\", \".tsx\", \".css\", \".json\"],\n  },\n};</code></pre></div>\n<h2>webpack.dev.js</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const { merge } = require(\"webpack-merge\");\nconst common = require(\"./webpack.common\");\n\nmodule.exports = merge(common, {\n  mode: \"development\",\n  devtool: \"inline-source-map\",\n  devServer: {\n    open: false,\n    hot: true,\n    compress: true,\n    port: 8081,\n    historyApiFallback: true,\n    liveReload: true,\n  },\n  output: {\n    filename: \"[name].[contenthash].js\",\n    publicPath: \"/\",\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.(sa|sc|c)ss$/i,\n        use: [\"style-loader\", \"css-loader\", \"sass-loader\"],\n      },\n    ],\n  },\n});</code></pre></div>\n<h2>webpack.prod.js</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const { merge } = require(\"webpack-merge\");\nconst common = require(\"./webpack.common\");\nconst path = require(\"path\");\n\nconst MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");\nconst TerserPlugin = require(\"terser-webpack-plugin\");\nconst CssMinimizerPlugin = require(\"css-minimizer-webpack-plugin\");\n\nmodule.exports = merge(common, {\n  mode: \"production\",\n  devtool: \"cheap-module-source-map\",\n  output: {\n    filename: \"[name].[contenthash].js\",\n    path: path.resolve(__dirname, \"../dist\"),\n    publicPath: \"./\",\n    clean: true,\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.(sa|sc|c)ss$/i,\n        use: [\n          MiniCssExtractPlugin.loader,\n          \"css-loader\",\n          \"sass-loader\",\n        ],\n      },\n    ],\n  },\n  plugins: [new MiniCssExtractPlugin()],\n  optimization: {\n    usedExports: true,\n    minimize: true,\n    minimizer: [\n      new TerserPlugin({\n        terserOptions: {\n          compress: {\n            drop_console: true,\n          },\n        },\n      }),\n      new CssMinimizerPlugin(),\n    ],\n    splitChunks: {\n      chunks: \"all\",\n    },\n  },\n  performance: {\n    hints: false,\n    maxEntrypointSize: 512000,\n    maxAssetSize: 512000,\n  },\n});</code></pre></div>\n<h2>.babelrc</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n  \"presets\": [\n    \"@babel/preset-react\",\n    [\n      \"@babel/preset-env\",\n      {\n        \"modules\": false,\n        \"useBuiltIns\": \"usage\",\n        \"corejs\": 3\n      }\n    ],\n    \"@babel/preset-typescript\"\n  ]\n}</code></pre></div>\n<h2>tsconfig.json</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n  \"compilerOptions\": {\n    \"outDir\": \"./dist\",\n    \"target\": \"es5\",\n    \"module\": \"esnext\",\n    \"jsx\": \"react-jsx\",\n    \"noImplicitAny\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"esModuleInterop\": true,\n    \"strict\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true\n  },\n  \"include\": [\"src\"]\n}</code></pre></div>\n<h2>package.json</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//scripts\n\"scripts\": {\n    \"dev\": \"webpack-dev-server --config config/webpack.dev.js\",\n    \"prod\": \"webpack-dev-server --config config/webpack.prod.js\",\n    \"build:dev\": \"webpack --config config/webpack.dev.js\",\n    \"build:prod\": \"webpack --config config/webpack.prod.js\"\n},\n\n//brwoserlist\n\"browserslist\": [\n\t\"ie 11\"\n]\n</code></pre></div>\n<h2>index.html</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;!DOCTYPE html>\n&lt;html lang=\"ko\">\n  &lt;meta charset=\"utf-8\" />\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  &lt;meta\n    name=\"viewport\"\n    content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\"\n  />\n  &lt;head>\n    &lt;title>STARTER KIT MAKERT RYUHOJIN&lt;/title>\n  &lt;/head>\n  &lt;body>\n    &lt;div id=\"root\">&lt;/div>\n  &lt;/body>\n&lt;/html></code></pre></div>\n<h2>index.tsx</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\n\nconst container = document.getElementById(\"root\");\nconst root = createRoot(container as Element);\n\nroot.render(&lt;App />);\n</code></pre></div>\n<h2>App.tsx</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const App = () => {\n    return &lt;div>Hello Hojin&lt;/div>;\n}\nexport default App;</code></pre></div>","frontmatter":{"title":"Without CRA","summary":"React","date":"2022.08.01.","categories":["TIL","React"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACFklEQVQ4y31UWYvTUBjtD/TdJ3+CL4K+COKLCo4PbuMuiAvjMrjiMqCIiLghOgjKjMxi27RJk07b6ZLek9Ej535JG3D04ZLcJSffWb5bGTuwGOkYdM6xl4LXQ/BcA3wU2zrh+LINXmiAFxtgMAQz5/xeGaNSnozyD1+0wYcxCOc84NUQnIvAuRDsj8G3HfBWZGdH2wHaX9wE8H4LXOyB3HJ+nA3AA+u2p3ltYAx+TwCnlVbS0sJwbCCvN8CFxKq5E4HH6+ClhknQTcF3HWOgswIsY1Sm6I6/4PhtEzwVgAd/grMBuH8dXoJXG+CRKni0Bs7UwMNV8GPXNEcJw1eoIYHnW+DlJvilB15pmgE/+uDSJvi+A8Yj21e1H7rgfGTzQW6mr7DQ7VPXdGFmOt2MjGI4BHcuZdzxPfO6Pk2syuLcs8TWNB8VgKKqSs7nGumgHBX1ZATuXgF3LWdc6YN3W+CxHFBUb4Tgm87UcU9ZL3JMYp8OwHsteGeVNx1WLptDo38mMCluR/Z8koBbOd2JKeXISA9RP1QFr4XgnlXTU7nbu2Ys5PrJummqb9KS05PYaAhMVNQRMkHUpe1sXtVCrtVyHz6reh/8HRtM/lAO9uci2JnjiTq4b82SoLXqwLqn0G1a4T9aT9WJpuIiinJS7SaaX3tmzOP4P61XvhzSsfOZet6Gd1AAvuXguDowMx7E1kVum8vhD/ZOGZvYXPFaAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/012cf13a9f1575e31b8dfba07be1705f/83fa2/React.png","srcSet":"/static/012cf13a9f1575e31b8dfba07be1705f/68a42/React.png 133w,\n/static/012cf13a9f1575e31b8dfba07be1705f/50c65/React.png 266w,\n/static/012cf13a9f1575e31b8dfba07be1705f/83fa2/React.png 532w","sizes":"(min-width: 532px) 532px, 100vw"},"sources":[{"srcSet":"/static/012cf13a9f1575e31b8dfba07be1705f/3c647/React.webp 133w,\n/static/012cf13a9f1575e31b8dfba07be1705f/48f2f/React.webp 266w,\n/static/012cf13a9f1575e31b8dfba07be1705f/f3c43/React.webp 532w","type":"image/webp","sizes":"(min-width: 532px) 532px, 100vw"}]},"width":532,"height":374}},"publicURL":"/static/012cf13a9f1575e31b8dfba07be1705f/React.png"}}}}]}},"pageContext":{"slug":"/Without CRA/"}},"staticQueryHashes":[]}